{"format_version":"1.19.0","animation_controllers":{"controller.animation.spark.zombie.right_leg":{"states":{"default":{"transitions":[{"lose_right_leg":"v.has_right_leg && !q.property('spark:has_right_leg')"}]},"lose_right_leg":{"animations":["lose_right_leg"],"particle_effects":[{"effect":"break_limb","locator":"leg_right"}],"transitions":[{"lost":"q.all_animations_finished"}]},"lost":{"on_entry":["v.has_right_leg = false;"]}}},"controller.animation.spark.zombie.left_leg":{"states":{"default":{"transitions":[{"lose_left_leg":"v.has_left_leg && !q.property('spark:has_left_leg')"}]},"lose_left_leg":{"animations":["lose_left_leg"],"particle_effects":[{"effect":"break_limb","locator":"leg_left"}],"transitions":[{"lost":"q.all_animations_finished"}]},"lost":{"on_entry":["v.has_left_leg = false;"]}}},"controller.animation.spark.zombie.recoil":{"states":{"default":{"transitions":[{"recoil":"v.last_health != q.health"}]},"recoil":{"particle_effects":[{"effect":"flakes"},{"effect":"sparks"}],"on_entry":["v.last_hurt = q.life_time;"],"on_exit":["v.last_health = q.health;","v.recoil_dir = Math.random_integer(0, 3);"],"animations":[{"recoil_left":"v.recoil_dir == 0"},{"recoil_right":"v.recoil_dir == 1"},{"recoil_front":"v.recoil_dir == 2"},{"recoil_back":"v.recoil_dir == 3"}],"transitions":[{"default":"q.any_animation_finished"}]}}},"controller.animation.spark.zombie.attack":{"states":{"default":{"transitions":[{"attack":"q.is_delayed_attacking"}],"blend_transition":0.1},"attack":{"animations":["attack"],"transitions":[{"default":"q.any_animation_finished"}],"blend_transition":0.2}}},"controller.animation.spark.zombie_basic.movement":{"states":{"default":{"transitions":[{"idle_crawl":"!q.property('spark:has_right_leg') && !q.property('spark:has_left_leg')"},{"idle":"1"}]},"idle":{"on_entry":["v.idle_variant = Math.random_integer(0, 4);"],"animations":[{"limp_idle_left":"!q.property('spark:has_right_leg')"},{"limp_idle_right":"!q.property('spark:has_left_leg')"},{"idle":"q.property('spark:has_right_leg') && q.property('spark:has_left_leg')"}],"transitions":[{"walk":"q.ground_speed > 0.7 && q.property('spark:has_right_leg') && q.property('spark:has_left_leg')"},{"limp_right":"q.ground_speed > 0.7 && q.property('spark:has_right_leg') && !q.property('spark:has_left_leg')"},{"limp_left":"q.ground_speed > 0.7 && q.property('spark:has_left_leg') && !q.property('spark:has_right_leg')"},{"crawl_both":"q.ground_speed > 0.7 && q.property('spark:has_left_arm') && q.property('spark:has_right_arm')"},{"crawl_right":"q.ground_speed > 0.7 && q.property('spark:has_right_arm') && !q.property('spark:has_left_arm')"},{"crawl_left":"q.ground_speed > 0.7 && q.property('spark:has_left_arm') && !q.property('spark:has_right_arm')"}],"blend_transition":0.2},"walk":{"on_entry":["v.walk_variant = Math.random_integer(0, 1);"],"animations":["walk"],"transitions":[{"idle":"q.ground_speed < 0.5"},{"limp_right":"q.ground_speed > 0.7 && !q.property('spark:has_left_leg')"},{"limp_left":"q.ground_speed > 0.7 && !q.property('spark:has_right_leg')"}],"blend_transition":0.28},"limp_right":{"animations":["limp_right"],"transitions":[{"idle":"q.ground_speed < 0.5"},{"fall_down":"!q.property('spark:has_right_leg')"}],"blend_transition":0.28},"limp_left":{"animations":["limp_left"],"transitions":[{"idle":"q.ground_speed < 0.5"},{"fall_down":"!q.property('spark:has_left_leg')"}],"blend_transition":0.28},"fall_down":{"animations":[{"fall_down":"q.property('spark:has_left_arm') && q.property('spark:has_right_arm')"},{"fall_down_right":"q.property('spark:has_right_arm') && !q.property('spark:has_left_arm')"},{"fall_down_left":"q.property('spark:has_left_arm') && !q.property('spark:has_right_arm')"}],"transitions":[{"crawl_both":"q.any_animation_finished && q.ground_speed > 0.7 && q.property('spark:has_left_arm') && q.property('spark:has_right_arm')"},{"crawl_right":"q.any_animation_finished && q.ground_speed > 0.7 && q.property('spark:has_right_arm') && !q.property('spark:has_left_arm')"},{"crawl_left":"q.any_animation_finished && q.ground_speed > 0.7 && q.property('spark:has_left_arm') && !q.property('spark:has_right_arm')"},{"idle_crawl":"q.any_animation_finished"}],"blend_transition":0.2},"idle_crawl":{"on_entry":["v.idle_variant = Math.random_integer(0, 2);"],"animations":[{"idle_crawl":"q.property('spark:has_left_arm') && q.property('spark:has_right_arm')"},{"idle_crawl_right":"q.property('spark:has_right_arm') && !q.property('spark:has_left_arm')"},{"idle_crawl_left":"q.property('spark:has_left_arm') && !q.property('spark:has_right_arm')"}],"transitions":[{"crawl_both":"q.ground_speed > 0.7 && q.property('spark:has_left_arm') && q.property('spark:has_right_arm')"},{"crawl_right":"q.ground_speed > 0.7 && q.property('spark:has_right_arm') && !q.property('spark:has_left_arm')"},{"crawl_left":"q.ground_speed > 0.7 && q.property('spark:has_left_arm') && !q.property('spark:has_right_arm')"}],"blend_transition":0.2},"crawl_both":{"animations":["crawl_both"],"transitions":[{"idle_crawl":"q.ground_speed < 0.5"}],"blend_transition":0.2},"crawl_right":{"animations":["crawl_right"],"transitions":[{"idle_crawl":"q.ground_speed < 0.5"}],"blend_transition":0.2},"crawl_left":{"animations":["crawl_left"],"transitions":[{"idle_crawl":"q.ground_speed < 0.5"}],"blend_transition":0.2}}},"controller.animation.spark.zombie_basic.attack":{"states":{"default":{"transitions":[{"attack":"q.is_delayed_attacking"}],"blend_transition":0.1},"attack":{"on_entry":["v.attack_variant = (q.property('spark:has_right_arm') && q.property('spark:has_left_arm')) ? Math.random_integer(0, 2) : Math.random_integer(0, 1);"],"animations":[{"attack_bite1":"!v.crawling && v.attack_variant == 0"},{"attack_bite2":"!v.crawling && v.attack_variant == 1"},{"attack_hit":"!v.crawling && v.attack_variant == 2"},{"attack_crawl":"v.crawling"}],"transitions":[{"default":"q.any_animation_finished"}],"blend_transition":0.2}}},"controller.animation.spark.zombie_basic.recoil":{"states":{"default":{"transitions":[{"recoil":"v.last_health != q.health"}]},"recoil":{"particle_effects":[{"effect":"flakes"},{"effect":"metal_sparks"},{"effect":"sparks"}],"on_entry":["v.last_hurt = q.life_time;"],"on_exit":["v.last_health = q.health;","v.recoil_dir = Math.random_integer(0, 3);"],"animations":[{"recoil_left":"!v.crawling && v.recoil_dir == 0"},{"recoil_right":"!v.crawling && v.recoil_dir == 1"},{"recoil_front":"!v.crawling && v.recoil_dir == 2"},{"recoil_back":"!v.crawling && v.recoil_dir == 3"},{"crawl_recoil_1":"v.crawling && v.recoil_dir == 0"},{"crawl_recoil_2":"v.crawling && v.recoil_dir == 1"},{"crawl_recoil_3":"v.crawling && v.recoil_dir == 2"},{"crawl_recoil_4":"v.crawling && v.recoil_dir == 3"}],"transitions":[{"default":"q.any_animation_finished"}]}}},"controller.animation.spark.zombie.spawn":{"states":{"default":{"animations":["hidden"],"transitions":[{"spawn":"q.property('spark:animate_emerging') && (q.property('spark:has_left_leg') || q.property('spark:has_right_leg'))"}],"blend_transition":0},"spawn":{"animations":["spawn"],"transitions":[{"spawned":"q.all_animations_finished"}],"blend_transition":0.2},"spawned":{}}}}}

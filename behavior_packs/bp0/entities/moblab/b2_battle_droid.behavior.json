{"format_version":"1.19.80","minecraft:entity":{"description":{"identifier":"spark:b2_battle_droid","properties":{"spark:force_effect":{"type":"enum","values":["none","grab","pull","push"],"client_sync":true,"default":"none"},"spark:animate_emerging":{"type":"bool","client_sync":true,"default":false},"spark:raider":{"type":"bool","client_sync":true,"default":false},"spark:has_right_leg":{"type":"bool","client_sync":true,"default":true},"spark:has_left_leg":{"type":"bool","client_sync":true,"default":true},"spark:has_right_arm":{"type":"bool","client_sync":true,"default":true},"spark:has_left_arm":{"type":"bool","client_sync":true,"default":true},"spark:can_lose_limbs":{"type":"bool","default":true},"spark:enable_jetpack":{"default":true,"type":"bool"}},"animations":{"death":"controller.animation.spark.battle_droid.death","timeout_500":"animation.spark.timeout_500","dummy":"animation.spark.dummy","spawn":"controller.animation.spark.droid_survival.spawn","dummy_2850":"animation.spark.timeout.2850ms","raid_controller":"controller.animation.spark.droid_survival.main","death_controller":"controller.animation.spark.droid_survival.death_detection","drop_leg":"controller.animation.spark.battle_droid.drop_leg_entity","jetpack_behavior":"controller.animation.spark.battle_droid.jetpack"},"scripts":{"animate":[{"jetpack_behavior":"q.mark_variant == 1"},"drop_leg",{"death_controller":"q.property('spark:raider')"},{"raid_controller":"q.property('spark:raider')"},"spawn","death"]},"is_summonable":true,"is_spawnable":true},"components":{"minecraft:type_family":{"family":["enemy","break_box","force_hit","force","can_lose_limbs"]},"minecraft:damage_sensor":{"triggers":[{"cause":"fall","on_damage":{"filters":{"test":"is_mark_variant","value":1}},"deals_damage":false},{"cause":"entity_attack","on_damage":{"event":"spark:damaged","filters":{"test":"bool_property","subject":"other","domain":"spark:holding_lightsaber","value":true}},"on_damage_sound_event":"block.beehive.enter"},{"on_damage":{"event":"spark:damaged","target":"self"}},{"cause":"entity_attack","on_damage":{"filters":{"all_of":[{"test":"bool_property","subject":"other","domain":"spark:holding_lightsaber","value":true},{"test":"is_family","subject":"self","value":"duel_opponent"}]}},"on_damage_sound_event":"block.beehive.enter","deals_damage":false},{"cause":"entity_attack","on_damage":{"filters":{"all_of":[{"test":"bool_property","subject":"other","domain":"spark:holding_lightsaber","value":true},{"test":"is_family","subject":"self","value":"duel_opponent","operator":"not"}]}},"on_damage_sound_event":"block.beehive.enter"}]},"minecraft:attack":{"damage":2},"minecraft:behavior.hurt_by_target":{"entity_types":{"reevaluate_description":true,"filters":{"any_of":[{"test":"is_family","subject":"other","value":"player"},{"test":"is_family","subject":"other","value":"companion"}]}}},"minecraft:behavior.nearest_attackable_target":{"priority":1,"reselect_targets":true,"within_radius":24,"entity_types":[{"filters":{"test":"is_family","value":"player","subject":"other"},"must_see_forget_duration":2,"max_dist":24}]},"minecraft:target_nearby_sensor":{"inside_range":4.5,"outside_range":8,"must_see":true,"on_inside_range":{"event":"spark:melee","target":"self"},"on_outside_range":{"event":"spark:ranged","target":"self"}},"minecraft:physics":{},"minecraft:collision_box":{"height":1.8,"width":0.7},"minecraft:health":{"max":20,"value":20},"minecraft:knockback_resistance":{"value":0.8},"minecraft:movement":{"value":0.15},"minecraft:push_through":{"value":0.5},"minecraft:pushable":{"is_pushable":true},"minecraft:movement.basic":{},"minecraft:jump.static":{},"minecraft:navigation.walk":{"avoid_water":true,"can_path_over_water":false,"can_swim":true},"minecraft:behavior.float":{},"minecraft:underwater_movement":{"value":0.09},"minecraft:preferred_path":{"max_fall_blocks":16},"minecraft:can_climb":{},"minecraft:behavior.look_at_target":{"priority":5},"minecraft:behavior.look_at_player":{"priority":6,"look_distance":8},"minecraft:breathable":{"total_supply":15},"minecraft:behavior.random_look_around":{"priority":7}},"component_groups":{"hostile":{},"ranged_attack":{"minecraft:is_sheared":{},"minecraft:behavior.move_towards_target":{"priority":0},"minecraft:behavior.ranged_attack":{"priority":1,"charge_charged_trigger":1,"charge_shoot_trigger":1.1,"attack_radius":20,"attack_radius_min":0},"minecraft:shooter":{"def":"spark:battle_droid_shot"}},"melee_attack":{"minecraft:behavior.delayed_attack":{"priority":2,"attack_duration":0.6,"hit_delay_pct":0.35,"reach_multiplier":2,"track_target":true}},"despawn":{"minecraft:instant_despawn":{}},"force_target":{"minecraft:timer":{"looping":false,"time":0.5,"time_down_event":{"event":"spark:force_untarget","target":"self"}},"minecraft:is_stunned":{}},"force_family":{},"emerging":{"minecraft:behavior.emerge":{"duration":4.5,"on_done":{"event":"spark:emerged","target":"self"}},"minecraft:follow_range":{"value":0,"max":0},"minecraft:timer":{"time":4.5,"time_down_event":{"event":"spark:emerged"}}},"pushable":{"minecraft:pushable":{"is_pushable":true,"is_pushable_by_piston":true},"minecraft:follow_range":{"value":128,"max":128}},"raider":{"minecraft:type_family":{"family":["raider","enemy","force_hit","force","can_lose_limbs"]},"minecraft:follow_range":{"max":128,"value":128}},"crawl_mode":{"minecraft:collision_box":{"width":1,"height":0.7},"minecraft:movement":{"value":0.1}},"jetpack_variant":{"minecraft:mark_variant":{"value":1},"minecraft:scale":{"value":1.3}},"jetpack_walk":{"minecraft:navigation.walk":{"can_path_over_water":true,"avoid_water":true,"avoid_damage_blocks":true,"can_path_from_air":true},"minecraft:movement":{"value":0.27}},"jetpack_flight":{"minecraft:can_fly":{},"minecraft:movement":{"value":0.022},"minecraft:navigation.float":{"can_path_over_water":true},"minecraft:behavior.float_wander":{"priority":5,"must_reach":true},"minecraft:behavior.float":{"priority":0},"minecraft:timer":{"time":[2,3],"time_down_event":{"event":"spark:stop_flight"}}}},"events":{"spark:melee":{"add":{"component_groups":["hostile","melee_attack"]},"remove":{"component_groups":["ranged_attack"]}},"spark:ranged":{"filters":{"any_of":[{"test":"bool_property","domain":"spark:has_right_leg"},{"test":"bool_property","domain":"spark:has_left_leg"}]},"add":{"component_groups":["hostile","ranged_attack"]},"remove":{"component_groups":["melee_attack"]}},"spark:calm":{"remove":{"component_groups":["ranged_attack","melee_attack"]}},"spark:despawn":{"add":{"component_groups":["despawn"]}},"spark:force_target":{"add":{"component_groups":["force_target"]}},"spark:force_untarget":{"remove":{"component_groups":["force_target"]},"add":{"component_groups":["force_family"]}},"spark:set_force_effect_none":{"set_property":{"spark:force_effect":"none"}},"spark:set_force_effect_grab":{"set_property":{"spark:force_effect":"grab"}},"spark:set_force_effect_pull":{"set_property":{"spark:force_effect":"pull"}},"spark:set_force_effect_push":{"set_property":{"spark:force_effect":"push"}},"spark:spawn_emerging":{"add":{"component_groups":["emerging"]},"set_property":{"spark:animate_emerging":true}},"spark:emerged":{"add":{"component_groups":["pushable"]},"remove":{"component_groups":["emerging"]},"set_property":{"spark:animate_emerging":false},"trigger":"spark:ranged"},"spark:raider":{"sequence":[{"trigger":"minecraft:entity_spawned"},{"trigger":"spark:spawn_emerging"},{"add":{"component_groups":["raider"]},"set_property":{"spark:raider":true}}]},"minecraft:entity_spawned":{"moblab:merge":true,"sequence":[{"randomize":[{"weight":1,"set_property":{"spark:has_right_arm":false}},{"weight":1,"set_property":{"spark:has_left_arm":false}},{"weight":3}],"filters":{"test":"bool_property","domain":"spark:can_lose_limbs"}},{"randomize":[{"weight":1,"add":{"component_groups":["melee"]}},{"weight":1,"add":{"component_groups":["ranged"]}}]},{"randomize":[{"add":{"component_groups":["jetpack_variant","jetpack_walk"]},"weight":1},{"weight":1}],"filters":{"test":"bool_property","domain":"spark:enable_jetpack"}},{"add":{"component_groups":["ranged_attack"]}}]},"spark:disable_limb_loss":{"set_property":{"spark:can_lose_limbs":false}},"spark:damaged":{"moblab:merge":true,"sequence":[{"randomize":[{"weight":1,"set_property":{"spark:has_right_leg":"q.property('spark:has_right_leg') ? math.random_integer(0, 1) == 0 : false"}},{"weight":1,"set_property":{"spark:has_left_leg":"q.property('spark:has_left_leg') ? math.random_integer(0, 1) == 0 : false"}},{"weight":1}],"filters":{"test":"bool_property","domain":"spark:can_lose_limbs"}},{"filters":{"none_of":[{"test":"bool_property","domain":"spark:has_right_leg"},{"test":"bool_property","domain":"spark:has_left_leg"}]},"add":{"component_groups":["crawl_mode","melee_attack"]},"remove":{"component_groups":["ranged_attack"]}}]},"spark:lose_random_leg":{"sequence":[{"randomize":[{"set_property":{"spark:has_right_leg":false}},{"set_property":{"spark:has_left_leg":false}}],"filters":{"test":"bool_property","domain":"spark:can_lose_limbs"}},{"filters":{"none_of":[{"test":"bool_property","domain":"spark:has_right_leg"},{"test":"bool_property","domain":"spark:has_left_leg"}]},"add":{"component_groups":["crawl_mode","melee_attack"]},"remove":{"component_groups":["ranged_attack"]}}]},"spark:disable_jetpack":{"set_property":{"spark:enable_jetpack":false}},"spark:start_flight":{"filters":{"any_of":[{"test":"bool_property","domain":"spark:has_right_leg"},{"test":"bool_property","domain":"spark:has_left_leg"}]},"add":{"component_groups":["jetpack_flight"]},"remove":{"component_groups":["jetpack_walk"]}},"spark:stop_flight":{"remove":{"component_groups":["jetpack_flight"]},"add":{"component_groups":["jetpack_walk"]}}}}}

{"format_version":"1.19.0","animation_controllers":{"controller.animation.spark.player.duel_move":{"states":{"default":{"on_entry":["/event entity @e[family=duel_opponent,r=30] set_player_move_idle","/tag @s remove blocking","/tag @s remove blocking_new"],"transitions":[{"attack":"v.attack_time"},{"block":"(q.property('spark:holding_lightsaber') && q.is_using_item && q.property('spark:stamina'))"}]},"attack":{"animations":["timeout_500ms"],"on_entry":["/event entity @e[family=duel_opponent,r=30] set_player_move_attack"],"transitions":[{"default":"q.all_animations_finished"}]},"block":{"animations":["blocking",{"lightsaber_block_loop":"q.property('spark:lightsaber_style') == 'double'"}],"on_entry":["/tag @s add blocking","/playsound sound.spark.lightsaber_block_start @s[tag=lightsaber_unlocked]","/event entity @e[family=duel_opponent,r=30] set_player_move_block"],"on_exit":["/stopsound @s sound.spark.force_grab_loop","/playsound sound.spark.lightsaber_block_start @s[tag=lightsaber_unlocked]"],"transitions":[{"break_block":"q.property('spark:stamina') == 0"},{"default":"!(q.property('spark:holding_lightsaber') && q.is_using_item)"}]},"break_block":{"on_entry":["/event entity @e[family=duel_opponent,r=30] set_player_move_idle","/tag @s remove blocking","/damage @s 3 entity_attack","/playsound sound.spark.lightsaber_block_blaster @a[r=30]","/camerashake add @s 0.3 0.2 rotational"],"transitions":[{"default":"!(q.property('spark:holding_lightsaber') && q.is_using_item)"}]}}}}}
